---
title: .gitignore에 추가한 파일 저장소에서 삭제하기
date: "2020-05-21"
---

## map 파일을 삭제하는 이유

React를 빌드하였을 때, webpack에 의해 번들링 되면서 sourcemap이라는 파일들이 생겨나는데 이 파일들은 프로젝트를 빌드하기 전에 삭제되어야 한다.
두 가지 이유가 있는데 첫번째는 내부코드가 노출되기 때문이고, 두번째는 불필요한 메모리 용량이 생기기 때문이다. 이것을 모르고 있다가 이번에 알게되었다. 이미 빌드하여 배포까지 한 상태에서 map 파일을 제거하는 방법을 적어본다.


## .gitignore에 map 파일 추가하기

우선 .gitignore 파일을 연 후(없다면 새로 만들면 된다.) 이렇게 추가한다.

```
# Sass
.sass-cache/
*.css.map
```

```/```를 넣어주면 이 디렉토리의 하위 모든 파일을 무시한다.
```*```을 앞에 넣어주면 .css.map이라는 확장자를 가진 모든 파일을 무시한다.


## 원격 저장소에 올라간 map 파일 제거하기

이미 그 전에 push하여 원격 저장소에 파일이 올라갔다면 이 명령어로 제거하면 된다.

```
git rm -r --cachad 파일이름 또는 디렉토리
```

git status를 수행하여 이렇게 뜨면 삭제가 잘 된 것이다.

```
deleted: 파일명
```


## 변경된 상태를 커밋하기

```
git commit -m "커밋메세지"
```

변경된 상태를 커밋한 후에 파일을 수정하고 git status를 확인해보면 .gitignore에 설정한 파일들이 untrected에서 안보이게 된다.